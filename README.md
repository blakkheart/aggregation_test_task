
# ü§ñ Telegram Bot Aggregation salary ü§ñ

## –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–∏ RLT (–û–û–û –ù–∞–¥–µ–∂–Ω—ã–µ –õ–æ—è–ª—å–Ω—ã–µ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏).

–ê–ª–≥–æ—Ä–∏—Ç–º –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –æ –∑–∞—Ä–ø–ª–∞—Ç–∞—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∫–æ–º–ø–∞–Ω–∏–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–º –ø—Ä–æ–º–µ–∂—É—Ç–∫–∞–º.

–ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥:
1.  –î–∞—Ç—É –∏ –≤—Ä–µ–º—è —Å—Ç–∞—Ä—Ç–∞ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –≤ ISO —Ñ–æ—Ä–º–∞—Ç–µ.
2.  –î–∞—Ç—É –∏ –≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –≤ ISO —Ñ–æ—Ä–º–∞—Ç–µ.
3.  –¢–∏–ø –∞–≥—Ä–µ–≥–∞—Ü–∏–∏. –¢–∏–ø—ã –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ: hour, day, month. –¢–æ –µ—Å—Ç—å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –∑–∞ —á–∞—Å, –¥–µ–Ω—å, –º–µ—Å—è—Ü.

## –°—Ç—ç–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- [aiogram](https://docs.aiogram.dev/en/latest/) ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–∞.
- [MongoDB](https://www.mongodb.com/) ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- [asyncio](https://docs.python.org/3/library/asyncio.html) + [Motor](https://motor.readthedocs.io/en/stable/) ‚Äî –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∫–æ–¥–∞.
- [Docker](https://www.docker.com/) ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/blakkheart/aggregation_test_task.git
```
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞:
```bash
cd aggregation_test_task
```
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
   - Windows
   ```bash
   python -m venv venv
   .\venv\Scripts\activate
   ```
   - Linux/macOS
   ```bash
   python3 -m venv venv
   source venv/bin/activate
   ```
4. –û–±–Ω–æ–≤–∏—Ç–µ [pip](https://pip.pypa.io/en/stable/):
   - Windows
   ```bash
   (venv) python -m pip install --upgrade pip
   ```
   - Linux/macOS
   ```bash
   (venv) python3 -m pip install --upgrade pip
   ```
5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ —Ñ–∞–π–ª–∞ requirements.txt:
   ```bash
   (venv) pip install -r backend/requirements.txt
   ```
–°–æ–∑–¥–∞–π—Ç–µ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–∞–π–ª `.env` –ø–æ –ø—Ä–∏–º–µ—Ä—É —Å —Ñ–∞–π–ª–æ–º `.env.example`, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.



## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ  

1. –í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –¥–æ–∫–µ—Ä-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
	```bash
	docker compose up
	```
–ó–∞–ø—É—Å—Ç–∏—Ç—Å—è –ë–î, –∑–∞–≥—Ä—É–∑—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏–∑ –¥–∞–º–ø–∞ –∏ –±–æ—Ç –Ω–∞—á–Ω–µ—Ç —Ä–∞–±–æ—Ç—É.
–í—ã –º–æ–∂–µ—Ç–µ –ø–æ—Å—ã–ª–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –±–æ—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ :
```json
{
"dt_from":"2022-09-01T00:00:00",
"dt_upto":"2022-12-31T23:59:00",
"group_type":"month"
}
```

–ò –ø–æ–ª—É—á–∞—Ç—å –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ –∏ —Å —É–∫–∞–∑–∞–Ω–Ω–æ–π –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ: 
```json
{
"dataset": [5906586, 5515874, 5889803, 6092634],
"labels": ["2022-09-01T00:00:00", "2022-10-01T00:00:00", "2022-11-01T00:00:00", "2022-12-01T00:00:00"]
}
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ë–î —Å–∞–º–∞ –Ω–∞–ø–æ–ª–Ω—è–µ—Ç —Å–µ–±—è –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –¥–∞–º–ø–∞, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `sampleDB`.
